window.imageFit=window.imageFit||new function(e){"use strict";if("undefined"==typeof e)return function(){throw new Error("jQuery is required")};var i=[],n="undefined"!=typeof window.document.createElement("div").style.objectFit,t={img:void 0,container:void 0,objectFit:!0,useMargins:!1,resize:!0,checkOnResize:!1,onPreLoad:function(){},onCheck:function(){},onSet:function(){}},o={isNullOrUndefined:function(e){return"undefined"==typeof e||null===e},checkCallback:function(e,i){"function"==typeof e&&e.call(i)}},r={resize:{timer:void 0,bind:function(e,n){e.resize&&n&&i.push(e)},check:function(e){e.checkOnResize?r.run(e,!1):r.checkAndSet(e)},run:function(){i.length&&(r.resize.timer&&clearTimeout(r.resize.timer),r.resize.timer=setTimeout(function(){var e=0;for(e;e<i.length;e+=1)r.resize.check(i[e])},100))}},checkAndSet:function(i){{var n=e(i.img);e(i.container)}n.removeClass("fitted-tall fitted-wide"),o.checkCallback(i.onCheck,i.img);var r=i.img.clientHeight/i.img.clientWidth*100,a=i.container.clientHeight/i.container.clientWidth*100,s=a>r?"fitted-tall":"fitted-wide";n.addClass("fitted "+s),i.useMargins&&(n.addClass("fitted-margins"),"fitted-tall"===s?(i.img.style.marginLeft=-(i.img.clientWidth/2)+"px",i.img.style.marginTop=""):(i.img.style.marginLeft="",i.img.style.marginTop=-(i.img.clientHeight/2)+"px")),o.checkCallback(i.onSet,i.img)},run:function(i,t){var a=new Image,s=i.objectFit&&n;return s?void e(i.img).addClass("fitted fitted-object-fit"):(o.checkCallback(i.onPreLoad,i.img),a.onload=function(){r.checkAndSet(i),r.resize.bind(i,t)},a.onerror=function(){e(i.img).addClass("fitted-error")},void(a.src=i.img.currentSrc||i.img.src))},init:function(i){o.isNullOrUndefined(i.img)||o.isNullOrUndefined(i.container)||(i.img.length&&(i.img=i.img[0]),i.container.length&&(i.container=i.container[0]),r.run(e.extend({},t,i),!0))}};return e(window).on("resize",r.resize.run),e.fn.imageFit=function(e){return e.img=this,r.init(e),this},function(e){r.init(e)}}(window.jQuery);