window.imageFit=window.imageFit||new function(e){"use strict";var i=[],n="undefined"!=typeof e,t="undefined"!=typeof window.document.createElement("div").style.objectFit,r={img:void 0,container:void 0,objectFit:!0,useMargins:!1,resize:!0,checkOnResize:!1,onPreLoad:function(){},onCheck:function(){},onSet:function(){}},c={isNullOrUndefined:function(e){return"undefined"==typeof e||null===e},checkCallback:function(e,i){"function"==typeof e&&e.call(i)},merge:function(e,i){var t,n=e;for(t in i)i.hasOwnProperty(t)&&(n[t]=i[t]);return n},addClass:function(e,i){var n=" "+e.className+" ",t=i.split(" "),r="",c=0;for(c;c<t.length;c+=1)-1===n.indexOf(" "+t[c]+" ")&&""!==t[c]&&(r+=" "+t[c]);e.className+=r},removeClass:function(e,i){var n=" "+e.className+" ",t=i.split(" "),r=0;for(r;r<t.length;r+=1)n=n.replace(" "+t[r]+" "," ");e.className=n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},f={resize:{timer:void 0,bind:function(e,n){e.resize&&n&&i.push(e)},check:function(e){e.checkOnResize?f.run(e,!1):f.checkAndSet(e)},run:function(){i.length&&(f.resize.timer&&clearTimeout(f.resize.timer),f.resize.timer=setTimeout(function(){var e=0;for(e;e<i.length;e+=1)f.resize.check(i[e])},100))}},checkAndSet:function(e){c.removeClass(e.img,"fitted-tall fitted-wide"),c.checkCallback(e.onCheck,e.img);var i=e.img.clientHeight/e.img.clientWidth*100,n=e.container.clientHeight/e.container.clientWidth*100,t=n>i?"fitted-tall":"fitted-wide";c.addClass(e.img,"fitted "+t),e.useMargins&&(c.addClass(e.img,"fitted-margins"),"fitted-tall"===t?(e.img.style.marginLeft=-(e.img.clientWidth/2)+"px",e.img.style.marginTop=""):(e.img.style.marginLeft="",e.img.style.marginTop=-(e.img.clientHeight/2)+"px")),c.checkCallback(e.onSet,e.img)},run:function(e,i){var n=new Image,r=e.objectFit&&t;return r?void c.addClass(e.img,"fitted fitted-object-fit"):(c.checkCallback(e.onPreLoad,e.img),n.onload=function(){f.checkAndSet(e),f.resize.bind(e,i)},n.onerror=function(){c.addClass(e.img,"fitted-error")},void(n.src=e.img.currentSrc||e.img.src))},init:function(e){e.img.length&&(e.img=e.img[0]),e.container.length&&(e.container=e.container[0]),c.isNullOrUndefined(e.img)||c.isNullOrUndefined(e.container)||f.run(c.merge(r,e),!0)}};return"undefined"!=typeof window.addEventListener?window.addEventListener("resize",f.resize.run):window.attachEvent("onresize",f.resize.run),n&&(e.fn.imageFit=function(e){return e.img=this,f.init(e),this}),function(e){f.init(e)}}(window.jQuery);