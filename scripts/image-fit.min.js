window.imageFit=window.imageFit||new function(e){"use strict";if("undefined"==typeof e)return function(){throw new Error("jQuery is required")};var i=[],n="undefined"!=typeof window.document.createElement("div").style.objectFit,t={img:void 0,container:void 0,objectFit:!0,useMargins:!1,resize:!0,checkOnResize:!1,onPreLoad:function(){},onCheck:function(){},onSet:function(){}},r={isNullOrUndefined:function(e){return"undefined"==typeof e||null===e},checkCallback:function(e,i){"function"==typeof e&&e.call(i)}},c={resize:{timer:void 0,bind:function(e,n){e.resize&&n&&i.push(e)},check:function(e){e.checkOnResize?c.run(e,!1):c.checkAndSet(e)},call:function(){i.length&&(c.resize.timer&&clearTimeout(c.resize.timer),c.resize.timer=setTimeout(function(){var e=0;for(e;e<i.length;e+=1)c.resize.check(i[e])},100))}},checkAndSet:function(i){{var n=e(i.img);e(i.container)}n.removeClass("fitted-tall fitted-wide"),r.checkCallback(i.onCheck,i.img);var c=i.img.clientHeight/i.img.clientWidth*100,f=i.container.clientHeight/i.container.clientWidth*100,o=f>c?"fitted-tall":"fitted-wide";n.addClass("fitted "+o),i.useMargins&&(n.addClass("fitted-margins"),"fitted-tall"===o?(i.img.style.marginLeft=-(i.img.clientWidth/2)+"px",i.img.style.marginTop=""):(i.img.style.marginLeft="",i.img.style.marginTop=-(i.img.clientHeight/2)+"px")),r.checkCallback(i.onSet,i.img)},run:function(i,t){var f=new Image,o=i.objectFit&&n;return o?void e(i.img).addClass("fitted fitted-object-fit"):(r.checkCallback(i.onPreLoad,i.img),f.onload=function(){c.checkAndSet(i),c.resize.bind(i,t)},f.onerror=function(){e(i.img).addClass("fitted-error")},void(f.src=i.img.currentSrc||i.img.src))},init:function(i){r.isNullOrUndefined(i.img)||r.isNullOrUndefined(i.container)||(i.img.length&&(i.img=i.img[0]),i.container.length&&(i.container=i.container[0]),c.run(e.extend({},t,i),!0))}};return e(window).on("resize",c.resize.call),e.fn.imageFit=function(e){return e.img=this,c.init(e),this},function(e){c.init(e)}}(window.jQuery);